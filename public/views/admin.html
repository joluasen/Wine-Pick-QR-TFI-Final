<!--
  Vista parcial: admin.html
  Descripción: formulario de alta de producto para administradores. El manejo
  de eventos y validaciones se implementa en `public/js/views/adminView.js`.
-->
<section data-view="admin">
  <h2>Alta de Producto</h2>
  <p>Completa los campos obligatorios (*) para registrar un nuevo producto en el sistema.</p>

  <form id="product-create-form">
    <div>
      <label for="public_code">Código público / QR *</label>
      <input id="public_code" name="public_code" type="text" placeholder="Ej: MALBEC-RES-750-001" required>
    </div>

    <div>
      <label for="name">Nombre del producto *</label>
      <input id="name" name="name" type="text" placeholder="Ej: Malbec Reserva 750ml" required>
    </div>

    <div>
      <label for="drink_type">Tipo de bebida *</label>
      <select id="drink_type" name="drink_type" required>
        <option value="">-- Selecciona el tipo --</option>
        <option value="vino">Vino</option>
        <option value="espumante">Espumante</option>
        <option value="whisky">Whisky</option>
        <option value="gin">Gin</option>
        <option value="licor">Licor</option>
        <option value="cerveza">Cerveza</option>
        <option value="otro">Otro</option>
      </select>
    </div>

    <div>
      <label for="winery_distillery">Bodega / Destilería *</label>
      <input id="winery_distillery" name="winery_distillery" type="text" placeholder="Ej: Bodega Norton" required>
    </div>

    <div>
      <label for="base_price">Precio base (ARS) *</label>
      <input id="base_price" name="base_price" type="number" step="0.01" min="0" placeholder="5500.00" required>
    </div>

    <div>
      <label for="varietal">Varietal (opcional)</label>
      <input id="varietal" name="varietal" type="text" placeholder="Ej: Malbec">
    </div>

    <div>
      <label for="origin">Origen (opcional)</label>
      <input id="origin" name="origin" type="text" placeholder="Ej: Mendoza, Argentina">
    </div>

    <div>
      <label for="vintage_year">Año (opcional)</label>
      <input id="vintage_year" name="vintage_year" type="number" min="1900" max="2100" placeholder="2021">
    </div>

    <div>
      <label for="short_description">Descripción corta (opcional)</label>
      <textarea id="short_description" name="short_description" rows="3" placeholder="Descripción breve del producto..."></textarea>
    </div>

    <div>
      <label for="visible_stock">Stock visible (opcional)</label>
      <input id="visible_stock" name="visible_stock" type="number" min="0" step="1" placeholder="24">
    </div>

    <div id="product-create-status" aria-live="polite"></div>

    <div id="product-qr-card" hidden>
      <h3>Código QR del Producto</h3>
      <p id="product-qr-text">QR generado para el código público del producto.</p>
      <div id="product-qr-render" aria-live="polite"></div>
      <div class="qr-actions">
        <button type="button" id="qr-download-btn">Descargar PNG</button>
        <button type="button" id="qr-print-btn">Imprimir</button>
        <button type="button" id="qr-regenerate-btn">Regenerar</button>
      </div>
    </div>

    <button type="submit">Crear Producto</button>
  </form>

  <hr style="margin: 3rem 0; border: none; border-top: 1px solid var(--border);">

  <h2>Alta de Promoción</h2>
  <p>Crea una promoción para un producto seleccionado.</p>

  <form id="promotion-create-form">
    <div>
      <label for="promo_product_id">Producto *</label>
      <select id="promo_product_id" name="promo_product_id" required>
        <option value="">-- Cargando productos --</option>
      </select>
    </div>

    <div>
      <label for="promo_type">Tipo de promoción *</label>
      <select id="promo_type" name="promo_type" required>
        <option value="">-- Selecciona el tipo --</option>
        <option value="porcentaje">Porcentaje de descuento</option>
        <option value="precio_fijo">Precio fijo promocional</option>
        <option value="2x1">2x1 (Llevate 2 al precio de 1)</option>
        <option value="3x2">3x2 (Llevate 3 al precio de 2)</option>
        <option value="nxm">NxM (Llevate N al precio de M)</option>
      </select>
    </div>

    <div>
      <label for="promo_value">Valor / Precio promocional (ARS) *</label>
      <input id="promo_value" name="promo_value" type="number" step="0.01" min="0" placeholder="Ej: 3999.99" required>
    </div>

    <div>
      <label for="promo_text">Texto de promoción (máx 255 caracteres) *</label>
      <textarea id="promo_text" name="promo_text" rows="2" placeholder="Ej: Descuento especial por compra hoy" maxlength="255" required></textarea>
    </div>

    <div>
      <label for="promo_start">Fecha de inicio (YYYY-MM-DD) *</label>
      <input id="promo_start" name="promo_start" type="date" required>
    </div>

    <div>
      <label for="promo_end">Fecha de fin (YYYY-MM-DD) - opcional</label>
      <input id="promo_end" name="promo_end" type="date">
    </div>

    <div id="promotion-create-status" aria-live="polite"></div>

    <button type="submit">Crear Promoción</button>
  </form>
</section>
